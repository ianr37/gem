[
    {"start-test":
        {
            "parameters": [
                {"name": "p1", "storageType": "number", "value": 0},
                {"name": "p2", "storageType": "number", "value": 1}
            ],
            "tasks": [
                {"taskName": "set", "taskClass": "SetParameter", "fields": ["p1", "p2"]}
            ],
            "steps": [
                {"stepName": "$start", "taskName": "set"}
            ]
        }
    },

    {"async-test":
        {
            "parameters": [
                {"name": "url", "storageType": "string", "value": "https://localhost.dev"},
                {"name": "payload", "storageType": "object", "value": {"command": "echo", "value": "test"}}
            ],
            "tasks": [
                {"taskName": "tx", "taskClass": "TxRequest", "fields": ["url", "payload"]}
            ],
            "steps": [
                {"stepName": "$start", "taskName": "tx"}
            ]
        }
    },

    {"login":
        {
            "parameters": [
                {"name": "userName", "storageType": "string"},
                {"name": "passPhrase", "storageType": "string"},
                {"name": "accessToken", "storageType": "string"},
                {"name": "refreshToken", "storageType": "string"},
                {"name": "userProfile", "storageType": "UserProfile"}
            ],
            "tasks": [
                {"taskName": "Enter User ID", "taskClass": "BrowserDisplayTask",
                    "fields": [
                        {"parameter": "userName", "label": "User Name", "displayType": "text"},
                        {"parameter": "passPhrase", "label": "Pass Phrase", "displayType": "password"}
                    ]
                },
                {"taskName": "Request Tokens", "taskClass": "BrowserTxRequestTask", "url": "/api/login",
                    "parameters": [
                        {"parameter": "userName", "alias": "userName"},
                        {"parameter": "passPhrase", "alias": "passPhrase"}
                    ]
                },
                {"taskName": "Receive Tokens", "taskClass": "BrowserRxResponsetask",
                    "parameters": [
                        {"parameter": "accessToken", "alias": "accessToken"},
                        {"parameter": "refreshToken", "alias": "refreshToken"},
                        {"parameter": "userProfile", "alias": "userProfile"}
                    ]
                },
                {"taskName": "Store Tokens and Profile", "taskClass": "BrowserStoreTask",
                    "parameters": [
                        {"parameter": "accessToken", "alias": "accessToken"},
                        {"parameter": "refreshToken", "alias": "refreshToken"},
                        {"parameter": "userProfile", "alias": "userProfile"}
                    ]
                }
            ],
            "steps": [
                {"stepName": "$start", "taskName": "Enter User ID", "next": {"ok": "tx"}},
                {"stepName": "tx", "taskName": "Request Tokens", "next": {"ok": "rx"}},
                {"stepName": "rx", "taskName": "Receive Tokens", "next": {"ok": "store"}},
                {"stepName": "store", "taskName": "Store Tokens and Profile", "next": {"ok": "$done"}}
            ]
        }
    }
]
